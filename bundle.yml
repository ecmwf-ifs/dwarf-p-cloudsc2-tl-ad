---
### Bundle

name    : cloudsc-bundle
version : 1.0.0-develop
cmake : >
        CMAKE_LINK_DEPENDS_NO_SHARED=ON

projects :

    - ecbuild :
        git     : ${BITBUCKET}/escape/ecbuild
        version : develop
        bundle  : false

    - serialbox :
        git     : ${BITBUCKET}/escape/serialbox
        version : v2.5.4/patched
        cmake   : >
            SERIALBOX_BUILD_SHARED=ON
            SERIALBOX_ENABLE_FORTRAN=ON
            SERIALBOX_ENABLE_EXPERIMENTAL_FILESYSTEM=OFF
            Serialbox_TARGETS_EXPORTED=TRUE
            CMAKE_CXX_EXTENSIONS=ON

    - cloudsc-dwarf :
        # The CLOUDSC dwarf project with multiple implementations
        dir     : $PWD
        version : develop
        require : ecbuild

options :

    - toolchain :
        help  : Specify compiler options via supplied toolchain file
        cmake : CMAKE_TOOLCHAIN_FILE={{value}}

    - with-mpi :
        help  : Enable MPI-parallel kernel
        cmake : ENABLE_MPI=ON

    - cloudsc-fortran :
        help  : Build the new Fortran version of CLOUDSC [ON|OFF]
        cmake : ENABLE_CLOUDSC_FORTRAN={{value}}

    - hdf5 :
        help : Enable use of HDF5 input file [ON|OFF]
        cmake : ENABLE_HDF5={{value}}

    - with-hdf5 :
        help : Enable use of HDF5 input file (disables Serialbox)
        cmake : >
            ENABLE_HDF5=ON
            CMAKE_DISABLE_FIND_PACKAGE_Serialbox=TRUE

    - without-serialbox :
        help  : Disable Serialbox utility for platform-agnostic file I/O
        cmake : CMAKE_DISABLE_FIND_PACKAGE_Serialbox=TRUE

    - serialbox-experimental :
        help  : Enable Serialbox experimental filesystem [ON|OFF]
        cmake : SERIALBOX_ENABLE_EXPERIMENTAL_FILESYSTEM={{value}}

...
